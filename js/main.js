$('.owl-carousel').owlCarousel({
    loop:true,
    margin:10,
    autoplay: true,
    nav:true,
    responsive:{
        0:{
            items:1
        },
        600:{
            items:3
        },
        1000:{
            items:5
        }
    }
})
function drama(){
    document.getElementById("2").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="inline";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function comedy(){
    document.getElementById("1").style.border="1px solid grey"
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="inline";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function action(){
    document.getElementById("5").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="inline";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function romance(){
    document.getElementById("9").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="inline";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function horror(){
    document.getElementById("7").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="inline";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function fantasy(){
    document.getElementById("3").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="inline";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function scifi(){
    document.getElementById("8").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="inline";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function thriller(){
    document.getElementById("6").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="inline";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function western(){
    document.getElementById("10").style.border="1px solid grey";
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="inline";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function adventure(){
    document.getElementById("11").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="inline";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="none";
}
function animation(){
    document.getElementById("4").style.border="1px solid grey"
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("12").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="inline";
    document.getElementById("documentary").style.display="none";
}
function documentary(){
    document.getElementById("12").style.border="1px solid grey";
    document.getElementById("1").style.border="none";
    document.getElementById("2").style.border="none";
    document.getElementById("3").style.border="none";
    document.getElementById("4").style.border="none";
    document.getElementById("5").style.border="none";
    document.getElementById("6").style.border="none";
    document.getElementById("7").style.border="none";
    document.getElementById("8").style.border="none";
    document.getElementById("9").style.border="none";
    document.getElementById("10").style.border="none";
    document.getElementById("11").style.border="none";
    document.getElementById("drama").style.display="none";
    document.getElementById("comedy").style.display="none";
    document.getElementById("action").style.display="none";
    document.getElementById("romance").style.display="none";
    document.getElementById("horror").style.display="none";
    document.getElementById("fantasy").style.display="none";
    document.getElementById("scifi").style.display="none";
    document.getElementById("thriller").style.display="none";
    document.getElementById("western").style.display="none";
    document.getElementById("adventure").style.display="none";
    document.getElementById("animation").style.display="none";
    document.getElementById("documentary").style.display="inline";
}
var html="";
var datalist=[];
var imageList=["images/film1.jpg","images/film2.jpg","images/film3.jpg","images/film4.jpg","images/film5.jpg",
    "images/film6.jpg","images/film7.jpg","images/film8.jpg","images/film9.jpg","images/film10.jpg","images/film11.jpg",
    "images/film12.jpg","images/film13.jpg", "images/film14.jpg","images/film15.jpg"];
async function onloadPage(){
    if ( localStorage.getItem("token"))
        document.getElementById("btnSignOut").style.display="inline-block";
    else
    {
        open("home.html","_self")
        return false;
    }
    if ( localStorage.getItem("admin"))
        document.getElementById("btnAddVidoe").style.display="inline-block";
    var myHeaders = new Headers();
    myHeaders.append("token", localStorage.getItem("token"));
    var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
    };
    fetch("https://agile-wildwood-89087.herokuapp.com/http://anyservice.imassoft.com/41/videos/", requestOptions)
        .then(response => response.json())
        .then(data => {
            console.log({data})
            data.forEach(addData)})
        .catch(error => console.log('error', error));
}
function addData(data){
    //alert(data.title)
    datalist.push(data);
    var randomNum=Math.floor(Math.random() * 15);
    var imagePath=imageList[randomNum]
    html+="<div class='item col-md-2' onclick='movieSelected("+data.id+")' ><img src="+imagePath+"><h6>"+data.title+"</h6></div>"
    document.getElementById("movies_list").innerHTML=html;
}
function movieSelected(id){
    var selectedmovie;
    for (var i=0;i<datalist.length;i++)
        if (datalist[i].id==id)
            selectedmovie=datalist[i];
    localStorage.removeItem("selectedMovie")
    localStorage.setItem("selectedMovie",JSON.stringify(selectedmovie))
    localStorage.setItem("MoviesList",JSON.stringify(datalist))
    open("video_edit.html","_self")
}
function signOut(){
    localStorage.removeItem("token");
    localStorage.removeItem("UserName");
    localStorage.removeItem("Password");
    localStorage.removeItem("admin");
    var requestOptions = {
        method: 'GET',
        headers:  {'Content-Type': 'application/json',"token":localStorage.getItem("token")},
        redirect: 'follow'
    };
    fetch("https://agile-wildwood-89087.herokuapp.com/http://anyservice.imassoft.com/41/logout/", requestOptions)
        .then(response => response.json())
        .then(data => {
            if (data.error){
                console.log(data.error)
            }
            else {
                console.log({data});
                open("home.html","_self");
            }
        })
        .catch(error => console.error('error', error));
    open("home.html","_self")
}
